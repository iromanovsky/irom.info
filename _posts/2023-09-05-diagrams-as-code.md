---
#layout: post-argon
title:  Diagrams as Code
date:   2023-09-05 09:00:00 +0100
author: Igor
categories: Blog
tags: [azure, devops, caf]
#permalink: /post1/
slug: diagrams-as-code
excerpt_separator: <!--more-->
#redirect_from: [/lorem, /post/lorem]
#published: false
---

![mermaid-diagram-2023-09-04-232438](https://github.com/iromanovsky/irom.info/assets/15823576/480e2b26-a85a-40d7-b7b9-bf0b1f0e7743)<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 983.1875 633.5" style="max-width: 100%;" xmlns="http://www.w3.org/2000/svg" width="100%" id="graph-div" height="100%" xmlns:xlink="http://www.w3.org/1999/xlink"><style>@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css");'</style><style>#graph-div{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;fill:#333;}#graph-div .error-icon{fill:hsl(60, 90%, 100%);}#graph-div .error-text{fill:rgb(0, 0, 0);stroke:rgb(0, 0, 0);}#graph-div .edge-thickness-normal{stroke-width:2px;}#graph-div .edge-thickness-thick{stroke-width:3.5px;}#graph-div .edge-pattern-solid{stroke-dasharray:0;}#graph-div .edge-pattern-dashed{stroke-dasharray:3;}#graph-div .edge-pattern-dotted{stroke-dasharray:2;}#graph-div .marker{fill:#0b0b0b;stroke:#0b0b0b;}#graph-div .marker.cross{stroke:#0b0b0b;}#graph-div svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;}#graph-div .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#graph-div .cluster-label text{fill:rgb(0, 0, 0);}#graph-div .cluster-label span,#graph-div p{color:rgb(0, 0, 0);}#graph-div .label text,#graph-div span,#graph-div p{fill:#333;color:#333;}#graph-div .node rect,#graph-div .node circle,#graph-div .node ellipse,#graph-div .node polygon,#graph-div .node path{fill:#ECECFE;stroke:#BCBCFB;stroke-width:1px;}#graph-div .flowchart-label text{text-anchor:middle;}#graph-div .node .label{text-align:center;}#graph-div .node.clickable{cursor:pointer;}#graph-div .arrowheadPath{fill:#0b0b0b;}#graph-div .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#graph-div .flowchart-link{stroke:#0b0b0b;fill:none;}#graph-div .edgeLabel{background-color:#E9E9F1;text-align:center;}#graph-div .edgeLabel rect{opacity:0.5;background-color:#E9E9F1;fill:#E9E9F1;}#graph-div .labelBkg{background-color:rgba(233, 233, 241, 0.5);}#graph-div .cluster rect{fill:hsl(60, 90%, 100%);stroke:hsl(60, 50%, 90%);stroke-width:1px;}#graph-div .cluster text{fill:rgb(0, 0, 0);}#graph-div .cluster span,#graph-div p{color:rgb(0, 0, 0);}#graph-div div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(60, 90%, 100%);border:1px solid hsl(60, 50%, 90%);border-radius:2px;pointer-events:none;z-index:100;}#graph-div .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#graph-div :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="10" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="0" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g id="subGraph4" class="cluster default flowchart-label"><rect height="83.5" width="398.0703125" y="534" x="569.1171875" ry="0" rx="0" style=""></rect><g transform="translate(718.45703125, 534)" class="cluster-label"><foreignObject height="18" width="99.390625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Environment Level</span></div></foreignObject></g></g><g id="subGraph3" class="cluster default flowchart-label"><rect height="83.5" width="934.015625" y="400.5" x="0" ry="0" rx="0" style=""></rect><g transform="translate(430.98828125, 400.5)" class="cluster-label"><foreignObject height="18" width="72.0390625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Service Level</span></div></foreignObject></g></g><g id="subGraph2" class="cluster default flowchart-label"><rect height="83.5" width="841.3671875" y="267" x="37.5234375" ry="0" rx="0" style=""></rect><g transform="translate(421.51953125, 267)" class="cluster-label"><foreignObject height="18" width="73.375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Domain Level</span></div></foreignObject></g></g><g id="subGraph1" class="cluster default flowchart-label"><rect height="83.5" width="713.763671875" y="133.5" x="146.04296875" ry="0" rx="0" style=""></rect><g transform="translate(452.8935546875, 133.5)" class="cluster-label"><foreignObject height="18" width="100.0625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Organization Level</span></div></foreignObject></g></g><g id="subGraph0" class="cluster default flowchart-label"><rect height="83.5" width="220.4140625" y="0" x="567.3125" ry="0" rx="0" style=""></rect><g transform="translate(643.4921875, 0)" class="cluster-label"><foreignObject height="18" width="68.0546875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Tenant Level</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-RMG LE-ORG" id="L-RMG-ORG-0" d="M677.51953125,58.5L677.51953125,62.666666666666664C677.51953125,66.83333333333333,677.51953125,75.16666666666667,677.51953125,83.5C677.51953125,91.83333333333333,677.51953125,100.16666666666667,677.51953125,108.5C677.51953125,116.83333333333333,677.51953125,125.16666666666667,677.51953125,133.5C677.51953125,141.83333333333334,677.51953125,150.16666666666666,677.51953125,154.33333333333334L677.51953125,158.5"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-ORG LE-PL" id="L-ORG-PL-0" d="M647.671875,177.78550167702554L570.7337239583334,184.32125139752125C493.7955729166667,190.85700111801702,339.9192708333333,203.9285005590085,262.9811197916667,214.6309169461709C186.04296875,225.33333333333334,186.04296875,233.66666666666666,186.04296875,242C186.04296875,250.33333333333334,186.04296875,258.6666666666667,186.04296875,267C186.04296875,275.3333333333333,186.04296875,283.6666666666667,186.04296875,287.8333333333333L186.04296875,292"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-ORG LE-BS" id="L-ORG-BS-0" d="M647.671875,190.65970679161433L639.1686197916666,195.0497556596786C630.6653645833334,199.4398045277429,613.6588541666666,208.21990226387143,605.1555989583334,216.7766177986024C596.65234375,225.33333333333334,596.65234375,233.66666666666666,596.65234375,242C596.65234375,250.33333333333334,596.65234375,258.6666666666667,596.65234375,267C596.65234375,275.3333333333333,596.65234375,283.6666666666667,596.65234375,287.8333333333333L596.65234375,292"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-ORG LE-SB" id="L-ORG-SB-0" d="M690.425243263473,192L693.6356193862275,196.16666666666666C696.845995508982,200.33333333333334,703.266747754491,208.66666666666666,706.4771238772455,217C709.6875,225.33333333333334,709.6875,233.66666666666666,709.6875,242C709.6875,250.33333333333334,709.6875,258.6666666666667,709.6875,267C709.6875,275.3333333333333,709.6875,283.6666666666667,709.6875,287.8333333333333L709.6875,292"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-ORG LE-DC" id="L-ORG-DC-0" d="M707.3671875,184.15969836614997L725.703125,189.63308197179163C744.0390625,195.10646557743334,780.7109375,206.05323278871666,799.046875,215.693283061025C817.3828125,225.33333333333334,817.3828125,233.66666666666666,817.3828125,242C817.3828125,250.33333333333334,817.3828125,258.6666666666667,817.3828125,267C817.3828125,275.3333333333333,817.3828125,283.6666666666667,817.3828125,287.8333333333333L817.3828125,292"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-PL LE-PM" id="L-PL-PM-0" d="M156.203125,320.230085310104L143.08984375,325.2750710917533C129.9765625,330.3200568734027,103.75,340.41002843670134,90.63671875,349.6216808850174C77.5234375,358.8333333333333,77.5234375,367.1666666666667,77.5234375,375.5C77.5234375,383.8333333333333,77.5234375,392.1666666666667,77.5234375,400.5C77.5234375,408.8333333333333,77.5234375,417.1666666666667,77.5234375,421.3333333333333L77.5234375,425.5"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-PL LE-PC" id="L-PL-PC-0" d="M195.74693581586826,325.5L198.16085797155688,329.6666666666667C200.5747801272455,333.8333333333333,205.40262443862275,342.1666666666667,207.81654659431138,350.5C210.23046875,358.8333333333333,210.23046875,367.1666666666667,210.23046875,375.5C210.23046875,383.8333333333333,210.23046875,392.1666666666667,210.23046875,400.5C210.23046875,408.8333333333333,210.23046875,417.1666666666667,210.23046875,421.3333333333333L210.23046875,425.5"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-PL LE-PI" id="L-PL-PI-0" d="M215.8828125,317.57187015932726L234.44596354166666,323.0598917994394C253.00911458333334,328.5479134395515,290.1354166666667,339.52395671977575,308.6985677083333,349.17864502655453C327.26171875,358.8333333333333,327.26171875,367.1666666666667,327.26171875,375.5C327.26171875,383.8333333333333,327.26171875,392.1666666666667,327.26171875,400.5C327.26171875,408.8333333333333,327.26171875,417.1666666666667,327.26171875,421.3333333333333L327.26171875,425.5"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-BS LE-WSS" id="L-BS-WSS-0" d="M564.8046875,318.1787623611534L546.609375,323.5656353009612C528.4140625,328.95250824076896,492.0234375,339.72625412038445,473.828125,349.27979372685894C455.6328125,358.8333333333333,455.6328125,367.1666666666667,455.6328125,375.5C455.6328125,383.8333333333333,455.6328125,392.1666666666667,455.6328125,400.5C455.6328125,408.8333333333333,455.6328125,417.1666666666667,455.6328125,421.3333333333333L455.6328125,425.5"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-BS LE-WA" id="L-BS-WA-0" d="M588.587645022455,325.5L586.5815010603792,329.6666666666667C584.5753570983034,333.8333333333333,580.5630691741517,342.1666666666667,578.5569252120758,350.5C576.55078125,358.8333333333333,576.55078125,367.1666666666667,576.55078125,375.5C576.55078125,383.8333333333333,576.55078125,392.1666666666667,576.55078125,400.5C576.55078125,408.8333333333333,576.55078125,417.1666666666667,576.55078125,421.3333333333333L576.55078125,425.5"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-BS LE-WS" id="L-BS-WS-0" d="M624.2550523952095,325.5L631.1213978293413,329.6666666666667C637.987743263473,333.8333333333333,651.7204341317365,342.1666666666667,658.5867795658683,350.5C665.453125,358.8333333333333,665.453125,367.1666666666667,665.453125,375.5C665.453125,383.8333333333333,665.453125,392.1666666666667,665.453125,400.5C665.453125,408.8333333333333,665.453125,417.1666666666667,665.453125,421.3333333333333L665.453125,425.5"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-BS LE-LZ" id="L-BS-LZ-0" d="M628.5,315.80942344584435L654.5836588541666,321.5911862048703C680.6673177083334,327.37294896389625,732.8346354166666,338.9364744819481,758.9182942708334,348.88490390764076C785.001953125,358.8333333333333,785.001953125,367.1666666666667,785.001953125,375.5C785.001953125,383.8333333333333,785.001953125,392.1666666666667,785.001953125,400.5C785.001953125,408.8333333333333,785.001953125,417.1666666666667,785.001953125,421.3333333333333L785.001953125,425.5"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-LZ LE-PRD" id="L-LZ-PRD-0" d="M737.802734375,455.8685530134305L721.5530598958334,460.55712751119216C705.3033854166666,465.2457020089537,672.8040364583334,474.62285100447684,656.5543619791666,483.4780921689051C640.3046875,492.3333333333333,640.3046875,500.6666666666667,640.3046875,509C640.3046875,517.3333333333334,640.3046875,525.6666666666666,640.3046875,534C640.3046875,542.3333333333334,640.3046875,550.6666666666666,640.3046875,554.8333333333334L640.3046875,559"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-LZ LE-QA" id="L-LZ-QA-0" d="M768.0160928143713,459L763.7907544286427,463.1666666666667C759.5654160429143,467.3333333333333,751.1147392714571,475.6666666666667,746.8894008857286,484C742.6640625,492.3333333333333,742.6640625,500.6666666666667,742.6640625,509C742.6640625,517.3333333333334,742.6640625,525.6666666666666,742.6640625,534C742.6640625,542.3333333333334,742.6640625,550.6666666666666,742.6640625,554.8333333333334L742.6640625,559"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-LZ LE-TST" id="L-LZ-TST-0" d="M801.9878134356287,459L806.2131518213573,463.1666666666667C810.4384902070857,467.3333333333333,818.8891669785429,475.6666666666667,823.1145053642714,484C827.33984375,492.3333333333333,827.33984375,500.6666666666667,827.33984375,509C827.33984375,517.3333333333334,827.33984375,525.6666666666666,827.33984375,534C827.33984375,542.3333333333334,827.33984375,550.6666666666666,827.33984375,554.8333333333334L827.33984375,559"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-LZ LE-DEV" id="L-LZ-DEV-0" d="M832.201171875,457.5240973431232L845.8369140625,461.93674778593595C859.47265625,466.34939822874884,886.744140625,475.1746991143744,900.3798828125,483.75401622385385C914.015625,492.3333333333333,914.015625,500.6666666666667,914.015625,509C914.015625,517.3333333333334,914.015625,525.6666666666666,914.015625,534C914.015625,542.3333333333334,914.015625,550.6666666666666,914.015625,554.8333333333334L914.015625,559"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(640.3046875, 575.75)" id="flowchart-PRD-13" class="node default default flowchart-label"><rect height="33.5" width="72.375" y="-16.75" x="-36.1875" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-28.6875, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="57.375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Production</span></div></foreignObject></g></g><g transform="translate(742.6640625, 575.75)" id="flowchart-QA-14" class="node default default flowchart-label"><rect height="33.5" width="32.34375" y="-16.75" x="-16.171875" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-8.671875, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="17.34375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">QA</span></div></foreignObject></g></g><g transform="translate(827.33984375, 575.75)" id="flowchart-TST-15" class="node default default flowchart-label"><rect height="33.5" width="37.0078125" y="-16.75" x="-18.50390625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-11.00390625, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="22.0078125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Test</span></div></foreignObject></g></g><g transform="translate(914.015625, 575.75)" id="flowchart-DEV-16" class="node default default flowchart-label"><rect height="33.5" width="36.34375" y="-16.75" x="-18.171875" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-10.671875, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="21.34375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Dev</span></div></foreignObject></g></g><g transform="translate(77.5234375, 442.25)" id="flowchart-PM-6" class="node default default flowchart-label"><rect height="33.5" width="85.046875" y="-16.75" x="-42.5234375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-35.0234375, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="70.046875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Management</span></div></foreignObject></g></g><g transform="translate(210.23046875, 442.25)" id="flowchart-PC-7" class="node default default flowchart-label"><rect height="33.5" width="80.3671875" y="-16.75" x="-40.18359375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-32.68359375, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="65.3671875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Connectivity</span></div></foreignObject></g></g><g transform="translate(327.26171875, 442.25)" id="flowchart-PI-8" class="node default default flowchart-label"><rect height="33.5" width="53.6953125" y="-16.75" x="-26.84765625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-19.34765625, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="38.6953125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Identity</span></div></foreignObject></g></g><g transform="translate(455.6328125, 442.25)" id="flowchart-WSS-9" class="node default default flowchart-label"><rect height="33.5" width="103.046875" y="-16.75" x="-51.5234375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-44.0234375, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="88.046875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Shared Services</span></div></foreignObject></g></g><g transform="translate(576.55078125, 442.25)" id="flowchart-WA-10" class="node default default flowchart-label"><rect height="33.5" width="38.7890625" y="-16.75" x="-19.39453125" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-11.89453125, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="23.7890625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">AVD</span></div></foreignObject></g></g><g transform="translate(665.453125, 442.25)" id="flowchart-WS-11" class="node default default flowchart-label"><rect height="33.5" width="39.015625" y="-16.75" x="-19.5078125" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-12.0078125, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="24.015625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">SAP</span></div></foreignObject></g></g><g transform="translate(785.001953125, 442.25)" id="flowchart-LZ-12" class="node default default flowchart-label"><rect height="33.5" width="94.3984375" y="-16.75" x="-47.19921875" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-39.69921875, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="79.3984375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Landing Zones</span></div></foreignObject></g></g><g transform="translate(186.04296875, 308.75)" id="flowchart-PL-2" class="node default default flowchart-label"><rect height="33.5" width="59.6796875" y="-16.75" x="-29.83984375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-22.33984375, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="44.6796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Platform</span></div></foreignObject></g></g><g transform="translate(596.65234375, 308.75)" id="flowchart-BS-3" class="node default default flowchart-label"><rect height="33.5" width="63.6953125" y="-16.75" x="-31.84765625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-24.34765625, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="48.6953125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Business</span></div></foreignObject></g></g><g transform="translate(709.6875, 308.75)" id="flowchart-SB-4" class="node default default flowchart-label"><rect height="33.5" width="62.375" y="-16.75" x="-31.1875" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-23.6875, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="47.375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Sandbox</span></div></foreignObject></g></g><g transform="translate(817.3828125, 308.75)" id="flowchart-DC-5" class="node default default flowchart-label"><rect height="33.5" width="53.015625" y="-16.75" x="-26.5078125" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-19.0078125, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="38.015625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Decom</span></div></foreignObject></g></g><g transform="translate(677.51953125, 175.25)" id="flowchart-ORG-1" class="node default default flowchart-label"><rect height="33.5" width="59.6953125" y="-16.75" x="-29.84765625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-22.34765625, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="44.6953125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Contoso</span></div></foreignObject></g></g><g transform="translate(677.51953125, 41.75)" id="flowchart-RMG-0" class="node default default flowchart-label"><rect height="33.5" width="150.4140625" y="-16.75" x="-75.20703125" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-67.70703125, -9.25)" style="" class="label"><rect></rect><foreignObject height="18.5" width="135.4140625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Root Management Group</span></div></foreignObject></g></g></g></g></g></svg>


Did you know that you can do Diagrams as Code? Read this to know how to make a machine-generated diagram of Azure Management Groups structure in a declarative way.

<!--more-->

I never liked to draw. But as a cloud architect, I have to do it regularly. Computers are helping to make my curly lines straight, however, I tend to spend too much time adjusting the objects until I have everything aligned perfectly or until I lose my interest.

This is why I always liked the idea of declarative drawing. I just declare what I want to see, and the machine draws this automatically.

One of the most common candidates for drawing automation in my everyday job is creating diagrams of Azure Management Groups structure.

With the use of Mermaid, you can create machine-generated diagrams from the declarative, simple description, and it gets rendered automatically on Azure DevOps and GitHub markdown.


[Mermaid Documentation](https://mermaid.js.org/intro/n00b-gettingStarted.html) is well organized with useful examples for some common diagram scenarios. 

[Mermaid Live Editor](https://mermaid.live/) allows you to generate the diagrams on the fly.

[ChatGPT](https://chat.openai.com/) may help you to get started with this prompt:

> build mermaid diagram for reference CAF azure management group structure

Here is my example declarative definition and the generated result:

```
::: mermaid
graph TD

subgraph "Tenant Level"
    RMG[Root Management Group]
end

subgraph "Organization Level"
    ORG[Contoso]
end

subgraph "Domain Level"
    PL[Platform]
    BS[Business]
    SB[Sandbox]
    DC[Decom]
end

subgraph "Service Level"
    PM[Management]
    PC[Connectivity]
    PI[Identity]
    WSS[Shared Services]
    WA[AVD]
    WS[SAP]
    LZ[Landing Zones]
end

subgraph "Environment Level"
    PRD[Production]
    QA[QA]
    TST[Test]
    DEV[Dev]
end


RMG --> ORG

ORG --> PL
ORG --> BS
ORG --> SB
ORG --> DC

PL --> PM
PL --> PC
PL --> PI

BS --> WSS
BS --> WA
BS --> WS
BS --> LZ

LZ --> PRD
LZ --> QA
LZ --> TST
LZ --> DEV
:::
```

